# ~/.zshrc â€“ improved and commented

# Oh-My-Zsh configuration path
export ZSH="$HOME/.oh-my-zsh"

# Theme selection: "robbyrussell" is clean and fast
ZSH_THEME="robbyrussell"

# Plugins (keep minimal for performance)
plugins=(
  git
  zsh-autosuggestions
  zsh-syntax-highlighting
  z
  fzf
  sudo
  extract
)

# Source Oh-My-Zsh
source $ZSH/oh-my-zsh.sh

# User-defined configuration

# Preferred editor (uncomment and adjust if desired)
export EDITOR="nano"

# Compilation flags (uncomment if needed)
# export ARCHFLAGS="-arch x86_64"

# Useful Aliases
alias zshconfig="nano ~/.zshrc"
alias reloadzsh="source ~/.zshrc"

# >>> Micromamba/Conda Initialization >>>
__conda_setup="$('/home/alp/codes/mambaforge/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    [ -f "/home/alp/codes/mambaforge/etc/profile.d/conda.sh" ] && . "/home/alp/codes/mambaforge/etc/profile.d/conda.sh" || export PATH="/home/alp/codes/mambaforge/bin:$PATH"
fi
unset __conda_setup

[ -f "/home/alp/codes/mambaforge/etc/profile.d/mamba.sh" ] && . "/home/alp/codes/mambaforge/etc/profile.d/mamba.sh"
# <<< Conda Initialization <<<

# Intel oneAPI initialization (compilers, MKL, MPI, SYCL)
[ -f "/opt/intel/oneapi/setvars.sh" ] && source "/opt/intel/oneapi/setvars.sh"

# Additional recommended environment optimizations

# Speed up pasting
DISABLE_MAGIC_FUNCTIONS="true"

# Faster prompt (disable auto-title if unnecessary)
DISABLE_AUTO_TITLE="true"

# Command auto-correction
ENABLE_CORRECTION="true"

# Improve completion visuals (optional)
COMPLETION_WAITING_DOTS="true"

# Reduce git prompt overhead in large repos
DISABLE_UNTRACKED_FILES_DIRTY="true"

# History timestamp (uncomment to activate)
HIST_STAMPS="yyyy-mm-dd"

# Explicit language setting (optional)
# export LANG=en_US.UTF-8
[ -f ~/.config/fzf/key-bindings.zsh ] && source ~/.config/fzf/key-bindings.zsh
[ -f ~/.config/fzf/completion.zsh ]   && source ~/.config/fzf/completion.zsh
